<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>neuropacs™ Java API</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="header">
      <div class="header-content">
        <div class="header-text">
          <h1>neuropacs™ Java API</h1>
          <p>
            Our Java API enables seamless integration with our product's
            capabilities in any Java-based environment.
          </p>
        </div>
      </div>
    </header>

    <div class="image-row">
      <a href="https://github.com/neuropacs/neuropacs-java-api"
        ><img src="./resources/github_logo.png"
      /></a>
      <a
        href="https://central.sonatype.com/artifact/com.neuropacs/neuropacs-java-api/overview"
        ><img src="./resources/maven_logo.png"
      /></a>
    </div>

    <nav class="navbar">
      <ul>
        <li><a href="https://neuropacs.github.io/">Home</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#dicom-web">DICOMweb</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#license">License</a></li>
        <li><a href="#explore">Explore</a></li>
        <!-- <li><a href="#faq">FAQ</a></li> -->
      </ul>
    </nav>

    <main class="main-content">
      <section id="installation">
        <h2>Installation</h2>
        <h3>Include in project</h3>
        <ul>
          <p><strong>Option 1:</strong> Install via Maven</p>
          <ol>
            <li>Add the API dependency to pom.xml</li>
            <pre class="code-container"><code>&lt;dependency&gt;
    &lt;groupId&gt;com.neuropacs&lt;/groupId&gt;
    &lt;artifactId&gt;neuropacs-java-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
            <li>Build the project</li>
            <pre
              class="code-container"
            >mvn clean install<code class="language-shell"></code></pre>
          </ol>
          <p><strong>Option 2:</strong> Add JAR file to the project</p>
          <ol>
            <li>Download JAR file (via 'wget' or manually)</li>
            <table class="info-table">
              <thead>
                <tr>
                  <th>Version</th>
                  <th>Size</th>
                  <th>Description</th>
                  <th>URL</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1.0.1</td>
                  <td>8.3MB</td>
                  <td>neuropacs™ Java API latest release</td>
                  <td>
                    https://d3tequ3xv41td3.cloudfront.net/java/neuropacs-java-api-1.0.1.jar
                  </td>
                </tr>
              </tbody>
            </table>
            <li>
              Include JAR file in project
              <ul>
                <li>For Command Line (w/out Maven):</li>
                <pre
                  class="code-container"
                ># Compile your Java class with the local JAR file
javac -cp path/to/neuropacs-java-api-&lt;version&gt;.jar -d out src/com/yourpackage/YourMainClass.java

# Run the program
java -cp path/to/neuropacs-java-api-&lt;version&gt;.jar:out com.yourpackage.YourMainClass<code class="language-shell"></code></pre>
                <li>For an IDE</li>
                <p>
                  <strong>IntelliJ IDEA:</strong> Go to File > Project Structure
                  > Libraries and add the JAR file.
                </p>
                <p>
                  <strong>Eclipse:</strong> Right-click on the project > Build
                  Path > Add External Archives... and select the JAR file.
                </p>
              </ul>
            </li>
          </ol>
        </ul>
      </section>

      <section id="usage">
        <h2>Usage</h2>
        <div class="code-section">
          <h3>Initialization</h3>
          <p>Initialize the neuropacs™ API.</p>
          <pre class="code-container"><code class="language-java">
  <span class="code-keyword">import com.neuropacs.Neuropacs</span>

  <span class="code-comment">// Define neuropacs parameters</span>
  <span class="code-keyword">String</span> apiKey = <span class="code-string">"your_api_key";</span> <span class="code-comment">// API key</span>
  <span class="code-keyword">String</span> serverUrl = <span class="code-string">"server_url";</span> <span class="code-comment">// neuropacs™ serverl URL</span>
  <span class="code-keyword">String</span> productName = <span class="code-string">"Atypical/MSAp/PSP-v1.0";</span> <span class="code-comment">// Desired neuropacs™ product</span>
  <span class="code-keyword">String</span> predictionFormat = <span class="code-string">"JSON";</span> <span class="code-comment">// Output format of results</span>
  <span class="code-keyword">String</span> originType = <span class="code-string">"my_application";</span> <span class="code-comment">// Requestor origin</span>

  <span class="code-comment">// Initialize the API</span>
  <span class="code-keyword">Neuropacs</span> npcs = <span class="code-keyword">new</span> <span class="code-keyword">Neuropacs</span>(serverUrl, apiKey, originType);
          </code></pre>
        </div>

        <div class="code-section">
          <h3>Example</h3>
          <p>Working example using the neuropacs™ API.</p>
          <pre class="code-container"><code class="language-java">
  <span class="code-comment">// Create a session</span>
  <span class="code-keyword">String</span> conn = npcs.<span class="code-function">connect();</span>

  <span class="code-comment">// Create a new order</span>
  <span class="code-keyword">String</span> conn = npcs.<span class="code-function">newJob();</span>

  <span class="code-comment">// Upload a dataset from path</span>
  <span class="code-keyword">boolean</span> upload = npcs.<span class="code-function">uploadDatasetFromPath</span>(orderId, "/path/to/dataset", System.out::println);

  <span class="code-comment">// Start an order</span>
  <span class="code-keyword">String</span> orderStart = npcs.<span class="code-function">runJob</span>(orderId, productName);

  <span class="code-comment">// Check order status</span>
  <span class="code-keyword">String</span> status = npcs.<span class="code-function">checkStatus</span>(orderId);

  <span class="code-comment">// Retrieve job results</span>
  <span class="code-keyword">String</span> results = npcs.<span class="code-function">getResults</span>(orderId, predictionFormat);

  <span class="code-comment">// Retrieve job results in PNG</span>
  <span class="code-keyword">byte[]</span> resultsPng = npcs.<span class="code-function">getResultsPng</span>(orderId);
  </code></pre>
        </div>

        <div class="code-section">
          <h3>Example viewing a PNG result</h3>
          <p>Download a PNG result file and view it.</p>
          <pre class="code-container"><code class="language-java">
  <span class="code-comment">// Import required packages</span>
  <span class="code-keyword">import</span> javax.imageio.ImageIO;
  <span class="code-keyword">import</span> java.awt.image.BufferedImage;
  <span class="code-keyword">import</span> java.io.ByteArrayInpudtStream;
  <span class="code-keyword">import</span> java.io.File;

  <span class="code-comment">// Retrieve job results in PNG</span>
  <span class="code-keyword">byte[]</span> resultsPng = npcs.<span class="code-function">getResultsPng</span>(orderId);

  <span class="code-comment">// Convert byte[] to an InputStream</span>
  <span class="code-keyword">ByteArrayInputStream</span> bais = <span class="code-keyword">new</span> <span class="code-keyword">ByteArrayInputStream</span>(resultsPng);

  <span class="code-comment">// Read the input stream into a BufferedImage</span>
  <span class="code-keyword">BufferedImage</span> image = <span class="code-keyword">ImageIO</span>.<span class="code-function">read</span>(bais);

  <span class="code-comment">// Save the image to a file</span>
  <span class="code-keyword">ImageIO</span>.<span class="code-function">write</span>(image, "png", <span class="code-keyword">new</span> <span class="code-keyword">File</span>(<span class="code-string">"neuropacs_report.png"</span>));
  </code></pre>
        </div>

        <section id="dicom-web">
          <div class="code-section">
            <h3>DICOMweb Integration</h3>
            <p>
              The API retrieves and processes images directly from
              DICOMweb-compliant servers, enabling neuropacs™ analysis for
              streamlined diagnostic workflows.
            </p>
            <pre class="code-container"><code class="language-python">
  <span class="code-comment">// Define DICOMweb parameters</span>
  <span class="code-keyword">String</span> dicomWebBaseUrl = <span class="code-string">"http://localhost:8080/dcm4chee-arc/aets/DCM4CHEE/rs"</span>
  <span class="code-keyword">String</span> studyUid = <span class="code-string">"1.3.12.2.1107.5.2.32.35162.30000022041820573832300000043"</span>
  <span class="code-keyword">String</span> username = <span class="code-string">"username"</span> <span class="code-comment">// If not required, use null</span>
  <span class="code-keyword">String</span> password = <span class="code-string">"password"</span> <span class="code-comment">// If not required, use null</span>

  <span class="code-comment">// Upload a dataset from DICOMweb</span>
  <span class="code-keyword">boolean</span> upload = <span class="code-keyword">await</span> npcs.<span class="code-function">uploadDatasetFromDicomWeb</span>({
      orderId,
      dicomWebBaseUrl,
      studyUid,
      username,  
      password, 
      System.out::println
    });
        </code></pre>
          </div>
        </section>
      </section>

      <section id="contact">
        <h2>Contact</h2>
        <p>
          Kerrick Cavanaugh (<em>Lead Software Engineer</em>) -
          kerrick@neuropacs.com
        </p>
      </section>

      <section id="license">
        <h2>License</h2>
        <p>
          This project is licensed under the
          <a
            href="https://github.com/neuropacs/neuropacs-py-api/blob/main/LICENSE"
            target="_blank"
            >MIT</a
          >.
        </p>
      </section>

      <section id="explore">
        <h2>Explore</h2>
        <h3>Integrations</h3>
        <p>
          Explore the different systems and software that our product integrates
          with. Click each integration for detailed setup and usage
          instructions.
        </p>
        <ul class="integration-list">
          <li>
            <a href="https://neuropacs.github.io/SlicerNeuropacs/">3D Slicer</a>
          </li>
          <li>
            <a href="#dicom-web">DICOMweb</a>
          </li>
          <!-- <li><a href="weasis.html">Weasis DICOM Viewer</a></li> -->
        </ul>
        <h3>Supported Programming Languages</h3>
        <p>
          Our product supports various programming languages to offer
          flexibility in development. Click each language for APIs, libraries,
          and examples.
        </p>
        <ul class="language-list">
          <li>
            <a href="https://neuropacs.github.io/neuropacs-py-api/"
              >Python API</a
            >
          </li>
          <li>
            <a href="https://neuropacs.github.io/neuropacs-js-api/"
              >JavaScript API</a
            >
          </li>
          <li>
            <a href="https://neuropacs.github.io/neuropacs-cli/">CLI</a>
          </li>
        </ul>
      </section>

      <!-- <section id="faq">
        <h2>FAQ</h2>
        <p><strong>Q1:</strong> How do I contribute to this project?</p>
        <p>
          <strong>A1:</strong> Fork the repository and submit a pull request.
        </p>
      </section> -->
    </main>

    <footer class="footer">
      <p>&copy; 2024 neuropacs™. All rights reserved.</p>
    </footer>
  </body>
</html>
